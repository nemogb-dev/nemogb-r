<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Building a Policy File • gradebook</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Building a Policy File">
<script defer data-domain="gradebook,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gradebook</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/policy-files.html">Building a Policy File</a></li>
    <li><a class="dropdown-item" href="../articles/simple-syllabus.html">Case Study: Simple Syllabus</a></li>
    <li><a class="dropdown-item" href="../articles/moderate-syllabus.html">Case Study: Moderate Syllabus</a></li>
    <li><a class="dropdown-item" href="../articles/complex-syllabus.html">Case Study: Complex Syllabus</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gradebook-dev/gradebook/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Building a Policy File</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gradebook-dev/gradebook/blob/vignettes/vignettes/policy-files.Rmd" class="external-link"><code>vignettes/policy-files.Rmd</code></a></small>
      <div class="d-none name"><code>policy-files.Rmd</code></div>
    </div>

    
    
<p>There are two ingredients that are needed to calculate course grades
with <code>gradebook</code>: a data frame containing assignment scores
and a file that encodes the grading policies often described in a
syllabus. We call that file a <em>policy file</em>.</p>
<p>Policy files are stored as <a href="https://www.cloudbees.com/blog/yaml-tutorial-everything-you-need-get-started" class="external-link">.yaml</a>
files, a simple format for storing hierarchical data in a text file with
minimal markup. Here is an example of a policy file for a course with a
fairly simple grading scheme.</p>
<p>Note that category names cannot be the same as any assignment
names.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"></code></pre></div>
<p>Once you have written your policy file, you can read it into R as a
list.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/read_yaml.html" class="external-link">read_yaml</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"simple_policy.yaml"</span>, package <span class="op">=</span> <span class="st">"gradebook"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in file(file, "rt", encoding = fileEncoding): file("") only</span></span>
<span><span class="co">#&gt; supports open = "w+" and open = "w+b": using the former</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co"># to be replaced with gradebook::read_policy()</span></span></code></pre></div>
<div class="section level2">
<h2 id="recognized-keys">Recognized Keys<a class="anchor" aria-label="anchor" href="#recognized-keys"></a>
</h2>
<p>There are a series of recognized keys with corresponding values. Each
key represents a certain type of calculation in your syllabus, and the
value determines the specifics of this calculation.</p>
<div class="section level3">
<h3 id="category">Category<a class="anchor" aria-label="anchor" href="#category"></a>
</h3>
<p>Every single category must have the <code>category</code> key. This
is the name of the subcategory and must be unique from all other
category names and all assignment names as well.</p>
</div>
<div class="section level3">
<h3 id="assignments">Assignments<a class="anchor" aria-label="anchor" href="#assignments"></a>
</h3>
<p>The <code>assignments</code> key determines which assignments or
subcategories are used to determine the category score. The values for
this key must match assignments in the Gradescope data or subcategories
determined in the same policy file. This can be left blank, but this
means that this category score will not be factored into any of the
grade calculations and will be ignored.</p>
</div>
<div class="section level3">
<h3 id="score">Score<a class="anchor" aria-label="anchor" href="#score"></a>
</h3>
<p>The <code>score</code> key determines how the percentage of an
assignment score is calculated. At the moment, there is only one valid
value for this key:</p>
<ul>
<li>
<p><code>raw_over_max</code>: the percentage of an assignment score
is the point-value of the assignment divided by the maximum points of
the assignment.</p>
<ul>
<li>Note: if <code>score</code> is not explicitly determined, this is
the <em>default</em>.</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="aggregation">Aggregation<a class="anchor" aria-label="anchor" href="#aggregation"></a>
</h3>
<p>The <code>aggregation</code> key determines how the various
assignment scores are aggregated together in order to calculate the
category score. These are the corresponding values for this key:</p>
<ul>
<li>
<p><code>equally_weighted</code>: the category score is the average
of the assignment scores with no regard to the relative point-values of
the assignments.</p>
<ul>
<li>Note: if <code>aggregation</code> is not explicitly determined, this
is the <em>default</em>.</li>
</ul>
</li>
<li><p><code>weighted_by_points</code>: the category score is the
weighted average of the assignment scores with the weights determined by
the relative point-values of the assignments.</p></li>
<li><p><code>max_score</code>: the category score is the maximum of the
assignment scores.</p></li>
<li><p><code>min_score</code>: the category score is the minimum of the
assignment scores.</p></li>
<li>
<p><code>weighted_mean</code>: the category score is the weighted
average of the assignment scores with the weights being explicitly
determined using the <code>weight</code> key in the nested
categories.</p>
<ul>
<li>Note: this is often reserved for the final overall-grade
calculation.</li>
</ul>
</li>
<li><p><code>none</code>: this is reserved for when a category is
comprised of only one assignment; hence no aggregation is necessary
because the category score is simply the assignment score.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lateness">Lateness<a class="anchor" aria-label="anchor" href="#lateness"></a>
</h3>
<p>The <code>lateness</code> key is used to write lateness policies. The
values for this key are divided into threshold functions and penalty
functions.</p>
<p>Threshold functions determine the valid lateness period for which the
penalty is applied. Here are the possible threshold functions:</p>
<ul>
<li><p><code>until</code>: this marks the lateness-period up until and
including the specified value.</p></li>
<li><p><code>after</code>: this marks the lateness-period after and
including the specified value.</p></li>
<li><p><code>between</code>: this marks the lateness-period between and
including the two specified values.</p></li>
</ul>
<p>Here are the possible penalty functions:</p>
<ul>
<li>
<p><code>add</code>: add the specified value to the assignment score
if the assignment’s lateness falls within its respective threshold.</p>
<ul>
<li>Note: this is often used to give bonuses for turning an assignment
in on-time.</li>
</ul>
</li>
<li>
<p><code>scale</code>: scale the assignment score by the specified
factor if the assignment’s lateness falls within its respective
threshold.</p>
<ul>
<li>Note: this is often used to reduce an assignment score if the
assignment is turned in late.</li>
</ul>
</li>
<li>
<p><code>set_to</code>: set the assignment score to the specified
value if the assignment’s lateness falls within its respective
threshold.</p>
<ul>
<li>Note: this is often used to set an assignment score to zero if the
assignment is turned in too late.</li>
</ul>
</li>
</ul>
<p>See <code>Case Study: Moderate Syllabus</code> to view an example of
a lateness policy</p>
</div>
<div class="section level3">
<h3 id="drop-n-lowest">Drop N Lowest<a class="anchor" aria-label="anchor" href="#drop-n-lowest"></a>
</h3>
<p>The <code>drop_n_lowest</code> key is used to drop <em>n</em> of the
lowest assignments scores. This <em>n</em>-value can take any integer
that is less than the total number of assignments in the category.</p>
</div>
</div>
<div class="section level2">
<h2 id="nesting-and-inheritance">Nesting and Inheritance<a class="anchor" aria-label="anchor" href="#nesting-and-inheritance"></a>
</h2>
</div>
<div class="section level2">
<h2 id="importance-of-order">Importance of Order<a class="anchor" aria-label="anchor" href="#importance-of-order"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Nikita Jayaprakash, Monika Voutov, Andrew Bray.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer>
</body>
</html>
